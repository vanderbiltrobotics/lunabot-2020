<launch>
  <arg name="model" default="$(find robot_simulation)/swapbot.urdf.xacro"/>
 

  <!-- Load the URDF, SRDF and other .yaml configuration files on the param server -->
  <include file="$(find moveit)/launch/planning_context.launch">
    <arg name="load_robot_description" value="true"/>
  </include>


  <include file="$(find urdf_sim_tutorial)/launch/gazebo.launch">
    <arg name="model" value="$(arg model)" />
  </include>
  
  <!-- Needs to be uncommented if joint contoller is not implemented yet...-->
  <!-- <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher" /> -->
  
  <!-- Run Rviz and load the default config to see the state of the move_group node -->
  <include file="$(find moveit)/launch/moveit_rviz.launch">
    <arg name="rviz_config" value="$(find moveit)/launch/moveit.rviz"/>
    <arg name="debug" value="false"/>
  </include>  
  
  <!-- The following should be replaced by whatever the motor control team comes up with -->
  <rosparam command="load"
            file="$(find robot_simulation)/config/sampledrive.yaml"/>	

  <node name="gazebo_controller_spawner" pkg="controller_manager" type="spawner"
    args=" wheel_controller  --timeout 60"/>
  
  <node name="rqt_robot_steering" pkg="rqt_robot_steering" type="rqt_robot_steering">
    <param name="default_topic" value="/wheel_controller/cmd_vel"/>
  </node>
  
  <!-- Run the main MoveIt! executable without trajectory execution (we do not have controllers configured by default) -->
  <include file="$(find moveit)/launch/move_group.launch">
    <arg name="allow_trajectory_execution" value="true"/>
    <arg name="fake_execution" value="true"/>
    <arg name="info" value="true"/>
    <arg name="debug" value="false"/>
    
  </include>

  

</launch>
